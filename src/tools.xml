<?xml version="1.0" encoding="UTF-8"?>
<beans>

  <!-- +===================================================+ -->
  <!-- | Drawing & factory strategies.                     | -->
  <!-- +===================================================+ -->

  <ShapeDrawStrategy id="dashedCircle" maxSize="1000, 1000">
    <Circle set-as="actor" parent="@stage" fill="false" strokeColor="#8d8d8dff" strokeDash="5" visible="false" reactive="false"/>
  </ShapeDrawStrategy>

  <dashedCircle id="dashedCircleMinSize" minSize="100, 100"/>

  <ShapeDrawStrategy id="dashedRect" maxSize="1000, 1000">
    <Rectangle set-as="actor" parent="@stage" fill="false" strokeColor="#8d8d8dff" strokeDash="5" visible="false" reactive="false"/>
  </ShapeDrawStrategy>

  <!-- std::vector of selected actors -->
  <ClutterActorVector id="selectedActors" />

  <RectangularSelector id="rectangularSelector" parent="@scale" fill="false" strokeColor="#d1d1d1ff"
        strokeDash="10" visible="false" selectable="false" />
  <RectangularSelectorStrategy id="selectionDashedRect" rectangularSelector="@rectangularSelector" selectedActors="@selectedActors" scaleLayer="@scale">
    <Rectangle set-as="actor" parent="@stage" fill="false" strokeColor="#d1d1d1ff" strokeDash="5" visible="false" reactive="false"/>
  </RectangularSelectorStrategy>

  <DashedLineStrategy id="dashedLine">
    <Line set-as="line" parent="@stage" strokeColor="#8d8d8dff" strokeDash="5" visible="false" strokeWidth="5" reactive="false"/>
  </DashedLineStrategy>

  <DashedLineConnectorStrategy id="dashedLineConnector">
    <Line set-as="line" parent="@stage" strokeColor="#8d8d8dff" strokeDash="5" visible="false" strokeWidth="5" reactive="false"/>
  </DashedLineConnectorStrategy>

  <DashedLineConnectorStrategy id="dashedAngleConnector">
    <Connector set-as="line" parent="@stage" strokeColor="#8d8d8dff" strokeDash="5" visible="false" strokeWidth="5" reactive="false"/>
  </DashedLineConnectorStrategy>

  <!-- +===================================================+ -->
  <!-- | Prototypes.                                       | -->
  <!-- +===================================================+ -->

  <Circle scope="prototype" id="circle" parent="@scale" strokeWidth="0" fill="true" fillColor="#0096c6c9" visible="false"/>
  <Rectangle scope="prototype" id="rect" parent="@scale" strokeWidth="0" fill="true" fillColor="#0096c6c9" visible="false"/>
  <Line scope="prototype" id="line" parent="@scale" strokeColor="#0096c6c9" visible="false" strokeWidth="1"/>

  <InputPort id="inputPort" scope="prototype" angle="2.6415" color="#d1d1d1ff" size="20" facing="W" />
  <OutputPort id="outputPort" scope="prototype" angle="6.283" color="#8d8d8dff" size="20" facing="E" />

  <CircularNode scope="prototype" id="mathNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#0096c6c9" visible="false">
    <inputPort add-to="ports" angle="2.6415" />
    <inputPort add-to="ports" angle="3.6415" />
    <outputPort add-to="ports" />
    <value set-as="propertyView">circularNodePropertiesView,addNodePropertiesView</value>
    <value set-as="font">48px</value>
    <value set-as="text">+</value>
    <value set-as="fontColor">#ffffffff</value>
  </CircularNode>

  <mathNode id="addNode">
    <Add scope="prototype" set-as="node"/>
  </mathNode>

  <mathNode id="subNode" text="-">
    <Sub scope="prototype" set-as="node"/>
  </mathNode>

  <mathNode id="mulNode" text="*">
    <Mul scope="prototype" set-as="node"/>
  </mathNode>

  <mathNode id="divNode" text="/">
    <Div scope="prototype" set-as="node"/>
  </mathNode>

  <CircularNode scope="prototype" id="copyNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#0096c6c9" visible="false">
    <inputPort add-to="ports" angle="3.1415" />
    <outputPort add-to="ports" />
    <Copy scope="prototype" set-as="node"/>
    <value set-as="propertyView">copyNodePropertiesView</value>
    <value set-as="font">22px</value>
    <value set-as="text">copy</value>
    <value set-as="fontColor">#ffffffff</value>
  </CircularNode>

  <CircularNode scope="prototype" id="testNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#0096c6c9" visible="false">
    <inputPort add-to="ports" angle="3.1415" />
    <inputPort add-to="ports" angle="4.7124" facing="N" />
    <outputPort add-to="ports" />
    <outputPort add-to="ports" angle="7.85398" facing="S" />
    <value set-as="font">22px</value>
    <value set-as="text">test</value>
    <value set-as="fontColor">#ff0000ff</value>
  </CircularNode>

  <CircularNode scope="prototype" id="consoleNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#D50074ff" visible="false">
    <inputPort add-to="ports" angle="3.1415" />
    <ConsoleNode scope="prototype" set-as="node"/>
    <value set-as="propertyView">consoleNodePropertiesView</value>
  </CircularNode>

  <Button scope="prototype" id="buttonNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#D50074ff" fontColor="#ecececff" visible="false">
    <outputPort add-to="ports" />
    <Copy scope="prototype" set-as="node"/>
    <value set-as="text">Button</value>
  </Button>

  <CircularNode scope="prototype" id="constNode" parent="@scale" strokeWidth="0" fill="true" fillColor="#D50074ff" visible="false">
    <outputPort add-to="ports" />
    <Const scope="prototype" set-as="node"/>
    <value set-as="propertyView">constPropertiesView</value>
  </CircularNode>

  <LineConnector scope="prototype" id="lineConnector" parent="@scale" strokeColor="#d1d1d1ff"
        fontColor="#8d8d8dff" visible="false" strokeWidth="5" text="0" textEditable="true" selectable="false">
    <Arc scope="prototype" set-as="arc"/>
  </LineConnector>

  <Connector scope="prototype" id="angleConnector" parent="@scale" strokeColor="#0096c6c9" visible="false" strokeWidth="5" selectable="false">
    <Arc scope="prototype" set-as="arc"/>
  </Connector>

  <!-- +===================================================+ -->
  <!-- | All the toola available.                          | -->
  <!-- +===================================================+ -->

  <!-- Tool with default image representation -->
  <Tool id="ToolI" imagePath="src/gui/addNode/add.jpg" />

  <ToolCategoryVector id="tools">
    <ToolCategory name="Common">
      <ToolI add-to="tools" name="select" drawStrategy="@selectionDashedRect" selectorStrategy="@selectionDashedRect"/>
    </ToolCategory>

    <ToolCategory name="Math nodes" description="Adding, substracting and the like">
      <ToolI add-to="tools" name="addNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="addNode" container="@#container" program="@program"/>
        <value set-as="description">Returns sum of its two inputs</value>
      </ToolI>

      <ToolI add-to="tools" name="subNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="subNode" container="@#container" program="@program"/>
        <value set-as="description">Returns difference of its two inputs</value>
      </ToolI>

      <ToolI add-to="tools" name="mulNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="mulNode" container="@#container" program="@program"/>
        <value set-as="description">Multiplication</value>
      </ToolI>

      <ToolI add-to="tools" name="divNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="divNode" container="@#container" program="@program"/>
        <value set-as="description">Division</value>
      </ToolI>

      <ToolI add-to="tools" name="constNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="constNode" container="@#container" program="@program"/>
        <value set-as="description">Returns predefined value.</value>
      </ToolI>
    </ToolCategory>

    <ToolCategory name="Basic nodes" description="Assorted simple nodes">
      <ToolI add-to="tools" name="copyNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="copyNode" container="@#container" program="@program"/>
      </ToolI>
      <ToolI add-to="tools" name="consoleNode" drawStrategy="@dashedCircleMinSize">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="consoleNode" container="@#container" program="@program"/>
      </ToolI>
      <ToolI add-to="tools" name="buttonNode" drawStrategy="@dashedRect">
        <NodeContainerFactoryStrategy set-as="factoryStrategy" beanName="buttonNode" container="@#container" program="@program"/>
      </ToolI>
      <ToolI add-to="tools" name="lineConnector" drawStrategy="@dashedLineConnector">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="lineConnector" container="@#container"/>
      </ToolI>
      <ToolI add-to="tools" name="angleConnector" drawStrategy="@dashedAngleConnector">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="angleConnector" container="@#container"/>
      </ToolI>
    </ToolCategory>

    <ToolCategory name="Shapes" description="Geometric shapes">
      <ToolI add-to="tools" name="line" drawStrategy="@dashedLine">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="line" container="@#container"/>
      </ToolI>
      <ToolI add-to="tools" name="circle" drawStrategy="@dashedCircle">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="circle" container="@#container"/>
      </ToolI>
      <ToolI add-to="tools" name="rect" drawStrategy="@dashedRect">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="rect" container="@#container"/>
      </ToolI>
      <ToolI add-to="tools" name="test" drawStrategy="@dashedRect">
        <ContainerFactoryStrategy set-as="factoryStrategy" beanName="testNode" container="@#container"/>
      </ToolI>
    </ToolCategory>

  </ToolCategoryVector>

</beans>
